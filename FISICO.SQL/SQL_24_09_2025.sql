CREATE DATABASE IF NOT EXISTS BD_LOCADORA;
USE BD_LOCADORA;

CREATE TABLE IF NOT EXISTS CLIENTE(
 CLIENTE_ID INTEGER AUTO_INCREMENT PRIMARY KEY,
 EMAIL VARCHAR(255) NOT NULL,
 CPF VARCHAR(14) NOT NULL,
 NOME VARCHAR(255) NOT NULL,
 TELEFONE VARCHAR(255) NOT NULL
);

CREATE TABLE IF NOT EXISTS PRODUTO(
 PRODUTO_ID INTEGER  AUTO_INCREMENT PRIMARY KEY,
 DESCRICAO VARCHAR(500) NOT NULL,
 PRECO DECIMAL NOT NULL,
 NOME VARCHAR(255) NOT NULL,
 QTD_DISPONIVEL INTEGER NOT NULL
);

CREATE TABLE IF NOT EXISTS ALUGUEL(
	ALUGUEL_ID INTEGER AUTO_INCREMENT PRIMARY KEY,
    DATA_ALUGUEL DATE NOT NULL,
    DATA_DEVOLUCAO DATE NOT NULL,
    VALOR_TOTAL DECIMAL NOT NULL,
    FK_CLIENTE_ID INTEGER NOT NULL ,
    FK_PRODUTO_ID INTEGER NOT NULL,
    FOREIGN KEY ( FK_CLIENTE_ID) REFERENCES CLIENTE(CLIENTE_ID) ON DELETE CASCADE,
    FOREIGN KEY ( FK_PRODUTO_ID) REFERENCES PRODUTO(PRODUTO_ID) ON DELETE CASCADE
);

-- DML - LINGUAGEM DE MANIPULAÇÃO
-- INSERT - INSERIR
INSERT INTO CLIENTE (EMAIL,TELEFONE,CPF,NOME)
VALUES ("EMAIL@EMAIL.COM","1999999999","123456789","Bruno");

INSERT INTO CLIENTE(EMAIL,TELEFONE,CPF,NOME)
VALUES ("brunodonizetti@gmail.com","19 995015743","4388875311","Bruno");

INSERT INTO CLIENTE (NOME, EMAIL, TELEFONE, CPF)
VALUES("GABRIEL","gabriel@email.com", "1999415", "222222");

-- SELECT - SELECIONAR
SELECT *FROM CLIENTE;

-- INSERIR PRODUTOS
INSERT INTO PRODUTO(NOME,DESCRICAO,PRECO,QTD_DISPONIVEL)
VALUES("MacBook M4", "Notebook Apple",4789.90,5);

INSERT INTO PRODUTO(NOME,DESCRICAO,PRECO,QTD_DISPONIVEL)
VALUES("Smartphone", "Smartphone Nexus Z5",2.499,34);

INSERT INTO PRODUTO(NOME,DESCRICAO,PRECO,QTD_DISPONIVEL)
VALUES("Notebook", "Notebook AlphaBook 15X",4.299,12);

INSERT INTO PRODUTO(NOME,DESCRICAO,PRECO,QTD_DISPONIVEL)
VALUES("Headphone bluetooth", "Fone de Ouvido WaveSound Pro",599,58);

INSERT INTO PRODUTO(NOME,DESCRICAO,PRECO,QTD_DISPONIVEL)
VALUES("Cafeteira", "Cafeteira Elétrica AromaCafé 700",219,20);

INSERT INTO PRODUTO(NOME,DESCRICAO,PRECO,QTD_DISPONIVEL)
VALUES("Mochila", "Mochila UrbanTech Antifurto",149,45);

INSERT INTO PRODUTO(NOME,DESCRICAO,PRECO,QTD_DISPONIVEL)
VALUES("Smartwatch", "Relógio Inteligente FitTime V2",329,73);

INSERT INTO PRODUTO(NOME,DESCRICAO,PRECO,QTD_DISPONIVEL)
VALUES("Teclado", "Teclado Mecânico Lumina RGB",289,25);

INSERT INTO PRODUTO(NOME,DESCRICAO,PRECO,QTD_DISPONIVEL)
VALUES("Monitor", "Monitor LED 27",1.099,16);

INSERT INTO PRODUTO(NOME,DESCRICAO,PRECO,QTD_DISPONIVEL)
VALUES("Luminária", "EchoLamp – Luminária Inteligente Wi-Fi",189,31);

SELECT * FROM PRODUTO;

-- INSERIR - ALUGUEIS
SELECT* FROM CLIENTE;
SELECT *FROM PRODUTO;

INSERT INTO ALUGUEL(DATA_ALUGUEL,DATA_DEVOLUCAO,VALOR_TOTAL,FK_CLIENTE_ID,FK_PRODUTO_ID)
VALUES ("2025-09-24",
"2025-10-01",
7890,3,2);

INSERT INTO ALUGUEL(DATA_ALUGUEL,DATA_DEVOLUCAO,VALOR_TOTAL,FK_CLIENTE_ID,FK_PRODUTO_ID)
VALUES("2025-09-24","2025-11-02", 1200,2,2);

INSERT INTO ALUGUEL(DATA_ALUGUEL,DATA_DEVOLUCAO,VALOR_TOTAL,FK_CLIENTE_ID,FK_PRODUTO_ID)
VALUES("2025-09-24","2025-11-03",1280,1,1);

INSERT INTO ALUGUEL(DATA_ALUGUEL,DATA_DEVOLUCAO,VALOR_TOTAL,FK_CLIENTE_ID,FK_PRODUTO_ID)
VALUES("2025-09-24","2025-11-04",1543,1,2);

INSERT INTO ALUGUEL(DATA_ALUGUEL,DATA_DEVOLUCAO,VALOR_TOTAL,FK_CLIENTE_ID,FK_PRODUTO_ID)
VALUES("2025-09-24","2025-11-05",1323,2,3);

INSERT INTO ALUGUEL(DATA_ALUGUEL,DATA_DEVOLUCAO,VALOR_TOTAL,FK_CLIENTE_ID,FK_PRODUTO_ID)
VALUES("2025-09-24","2025-11-06",1433,2,1);

INSERT INTO ALUGUEL(DATA_ALUGUEL,DATA_DEVOLUCAO,VALOR_TOTAL,FK_CLIENTE_ID,FK_PRODUTO_ID)
VALUES("2025-09-24","2025-11-07",5433,3,4);

INSERT INTO ALUGUEL(DATA_ALUGUEL,DATA_DEVOLUCAO,VALOR_TOTAL,FK_CLIENTE_ID,FK_PRODUTO_ID)
VALUES("2025-09-24","2025-11-08",1324,2,2);

INSERT INTO ALUGUEL(DATA_ALUGUEL,DATA_DEVOLUCAO,VALOR_TOTAL,FK_CLIENTE_ID,FK_PRODUTO_ID)
VALUES("2025-09-24","2025-11-09",1324,4,1);

INSERT INTO ALUGUEL(DATA_ALUGUEL,DATA_DEVOLUCAO,VALOR_TOTAL,FK_CLIENTE_ID,FK_PRODUTO_ID)
VALUES("2025-09-24","2025-11-10",1237,3,2);

INSERT INTO ALUGUEL(DATA_ALUGUEL,DATA_DEVOLUCAO,VALOR_TOTAL,FK_CLIENTE_ID,FK_PRODUTO_ID)
VALUES("2025-09-24","2025-11-11",6554,1,3);

INSERT INTO ALUGUEL(DATA_ALUGUEL,DATA_DEVOLUCAO,VALOR_TOTAL,FK_CLIENTE_ID,FK_PRODUTO_ID)
VALUES("2025-09-24","2025-11-12",9122,4,2);

INSERT INTO ALUGUEL(DATA_ALUGUEL,DATA_DEVOLUCAO,VALOR_TOTAL,FK_CLIENTE_ID,FK_PRODUTO_ID)
VALUES("2025-09-24","2025-11-13",4335,2,1);

INSERT INTO ALUGUEL(DATA_ALUGUEL,DATA_DEVOLUCAO,VALOR_TOTAL,FK_CLIENTE_ID,FK_PRODUTO_ID)
VALUES("2025-09-24","2025-11-14",1222,1,4);

INSERT INTO ALUGUEL(DATA_ALUGUEL,DATA_DEVOLUCAO,VALOR_TOTAL,FK_CLIENTE_ID,FK_PRODUTO_ID)
VALUES("2025-09-24","2025-11-15",2333,1,3);

INSERT INTO ALUGUEL(DATA_ALUGUEL,DATA_DEVOLUCAO,VALOR_TOTAL,FK_CLIENTE_ID,FK_PRODUTO_ID)
VALUES("2025-09-24","2025-11-16",3444,3,2);

INSERT INTO ALUGUEL(DATA_ALUGUEL,DATA_DEVOLUCAO,VALOR_TOTAL,FK_CLIENTE_ID,FK_PRODUTO_ID)
VALUES("2025-09-24","2025-11-17",4555,2,1);

INSERT INTO ALUGUEL(DATA_ALUGUEL,DATA_DEVOLUCAO,VALOR_TOTAL,FK_CLIENTE_ID,FK_PRODUTO_ID)
VALUES("2025-09-24","2025-11-18",5666,3,4);

INSERT INTO ALUGUEL(DATA_ALUGUEL,DATA_DEVOLUCAO,VALOR_TOTAL,FK_CLIENTE_ID,FK_PRODUTO_ID)
VALUES("2025-09-24","2025-11-19",6777,2,2);

INSERT INTO ALUGUEL(DATA_ALUGUEL,DATA_DEVOLUCAO,VALOR_TOTAL,FK_CLIENTE_ID,FK_PRODUTO_ID)
VALUES("2025-09-24","2025-11-11",7888,3,1);

INSERT INTO ALUGUEL(DATA_ALUGUEL,DATA_DEVOLUCAO,VALOR_TOTAL,FK_CLIENTE_ID,FK_PRODUTO_ID)
VALUES("2025-09-24","2025-11-20",8999,3,2);

SELECT *FROM ALUGUEL;
SELECT *FROM PRODUTO;

-- ATUALIZAR UM REGISTRO (UPDATE)
UPDATE PRODUTO
SET  PRECO = 3500
WHERE PRODUTO_ID = 1;

UPDATE PRODUTO
SET PRECO = 4000
WHERE PRODUTO_ID = 10;

UPDATE PRODUTO
SET PRECO = 500
WHERE PRODUTO_ID = 5;

UPDATE PRODUTO
SET PRECO = 600
WHERE PRODUTO_ID = 7;

UPDATE PRODUTO
SET QTD_DISPONIVEL = 30
WHERE PRODUTO_ID = 1;

UPDATE PRODUTO
SET  QTD_DISPONIVEL= 31
WHERE PRODUTO_ID = 2;

UPDATE PRODUTO
SET QTD_DISPONIVEL = 32
WHERE PRODUTO_ID = 3;

UPDATE PRODUTO
SET QTD_DISPONIVEL = 33
WHERE PRODUTO_ID = 4;

UPDATE PRODUTO
SET QTD_DISPONIVEL = 34
WHERE PRODUTO_ID = 5;

UPDATE CLIENTE
SET EMAIL="diego@gmail.com"
WHERE CLIENTE_ID=2;

UPDATE CLIENTE
SET EMAIL="felipe@gmail.com"
WHERE CLIENTE_ID=3;

UPDATE ALUGUEL
SET DATA_DEVOLUCAO="2025-10-26"
WHERE ALUGUEL_ID=1;

UPDATE ALUGUEL
SET DATA_DEVOLUCAO="2025-10-33"
WHERE ALUGUEL_ID=8;

UPDATE ALUGUEL
SET DATA_DEVOLUCAO="2025-10-27"
WHERE ALUGUEL_ID=2;

UPDATE ALUGUEL
SET DATA_DEVOLUCAO="2025-10-28"
WHERE ALUGUEL_ID=3;

UPDATE ALUGUEL
SET DATA_DEVOLUCAO="2025-10-29"
WHERE ALUGUEL_ID=4;

UPDATE ALUGUEL
SET DATA_DEVOLUCAO="2025-10-30"
WHERE ALUGUEL_ID=5;

UPDATE ALUGUEL
SET DATA_DEVOLUCAO="2025-10-31"
WHERE ALUGUEL_ID=6;

UPDATE ALUGUEL
SET DATA_DEVOLUCAO="2025-10-32"
WHERE ALUGUEL_ID=7;

SELECT * FROM ALUGUEL;




















